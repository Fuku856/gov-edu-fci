# セキュリティと個人情報の取り扱い

## 📋 個人情報の取り扱いについて

このリポジトリはGitHubで公開されています。個人情報を含めないよう注意してください。

## 🔒 開発用設定ファイル

### 動作確認用のメールアドレスを追加する方法

開発・動作確認用に個人のメールアドレスを追加する場合は、以下の手順に従ってください。

#### 方法1: 開発用設定ファイルを使用（推奨）

1. **`auth.local.js.example` をコピー**
   ```bash
   cp auth.local.js.example auth.local.js
   ```

2. **`auth.local.js` を編集**
   ```javascript
   const DEV_ALLOWED_EMAILS = [
     'your-email@gmail.com',  // あなたのメールアドレスを追加
   ];
   ```

3. **確認**
   - `auth.local.js` は `.gitignore` に含まれているため、GitHubに公開されません
   - 個人のメールアドレスが安全に管理されます

#### 方法2: メールドメインを追加

1. **`firebase-config.js` を編集**
   ```javascript
   const ALLOWED_EMAIL_DOMAINS = [
     'fcihs-satoyama.ed.jp',  // 学校のメールドメイン
   ];
   ```

2. **注意**
   - この方法では、そのドメインのすべてのメールアドレスが許可されます
   - 動作確認後は必ず削除してください

## ⚠️ 重要な注意事項

### GitHubに公開する前に確認すること

1. **個人のメールアドレスが含まれていないか確認**
   - `auth.js` の `ALLOWED_EMAILS` を確認
   - 個人のメールアドレスが含まれている場合は削除

2. **`auth.local.js` がコミットされていないか確認**
   - `git status` で確認
   - 含まれている場合は `.gitignore` に追加

3. **Firebase APIキーについて**
   - FirebaseのWeb APIキーは公開されても問題ありません
   - クライアント側で使用するため、公開前提の設計です
   - ただし、Firebase Consoleで適切なセキュリティルールを設定してください

## 🔐 Firebase APIキーのセキュリティ設定

Firebase APIキーの使用を制限することを推奨します。

1. **Google Cloud Consoleを開く**
   - https://console.cloud.google.com/ にアクセス

2. **APIキーの制限を設定**
   - 「APIとサービス」→「認証情報」を選択
   - 使用しているAPIキーを選択
   - 「アプリケーションの制限」を設定
   - 「HTTP リファラー（ウェブサイト）」を選択
   - 許可するドメインを追加：
     - `gov-edu-fci.pages.dev/*`
     - カスタムドメインを使用している場合は、それも追加

## 📝 チェックリスト

GitHubに公開する前に、以下を確認してください：

- [ ] `auth.js` に個人のメールアドレスが含まれていない
- [ ] `auth.local.js` が `.gitignore` に含まれている
- [ ] `firebase-config.js` に個人情報が含まれていない（APIキーは公開可能）
- [ ] その他のファイルに個人情報が含まれていない

## 🚀 開発時の作業フロー

1. **開発を開始**
   - `auth.local.js` を作成して個人のメールアドレスを追加

2. **動作確認**
   - 個人のメールアドレスでログインして動作確認

3. **コミット前**
   - `auth.local.js` がコミットされていないことを確認
   - 個人のメールアドレスが含まれていないことを確認

4. **コミット＆プッシュ**
   - 変更をコミット
   - GitHubにプッシュ

---

**重要**: 個人のメールアドレスをリポジトリにコミットしないよう注意してください。

